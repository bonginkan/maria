{"version":3,"sources":["../src/simple-cli.ts"],"sourcesContent":["#!/usr/bin/env node\nimport { Command } from 'commander';\nimport prompts from 'prompts';\nimport chalk from 'chalk';\nimport ora from 'ora';\n\nconst program = new Command();\n\nprogram\n  .name('mc')\n  .description('MARIA CODE - AI-powered development CLI')\n  .version('1.0.0');\n\nprogram\n  .command('test')\n  .description('Test CLI functionality')\n  .action(() => {\n    console.log('[TEST] MARIA CODE CLI Test');\n    console.log('[OK] CLI is working correctly!');\n    console.log('Version: 1.0.0');\n    console.log('');\n    console.log('Available commands:');\n    console.log('  mc init        Initialize .maria-code.toml');\n    console.log('  mc chat        Interactive chat session');\n    console.log('  mc graph       Visualize Graph Database (requires Neo4j setup)');\n    console.log('  mc --help      Show help information');\n  });\n\nprogram\n  .command('init')\n  .description('Initialize .maria-code.toml')\n  .action(() => {\n    console.log('[INIT] Initializing MARIA CODE configuration...');\n    console.log('[OK] Configuration initialized successfully!');\n  });\n\nprogram\n  .command('chat')\n  .description('è‡ªç„¶è¨€èªã§ã®å¯¾è©±å‹ãƒãƒ£ãƒƒãƒˆã‚»ãƒƒã‚·ãƒ§ãƒ³')\n  .option('-m, --mode <mode>', 'å‹•ä½œãƒ¢ãƒ¼ãƒ‰ (chat/research/creative)', 'chat')\n  .option('-v, --verbose', 'è©³ç´°å‡ºåŠ›ã‚’è¡¨ç¤º', false)\n  .action(async (options) => {\n    // ç›´æ¥natural-chatã®ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œ\n    await startNaturalChat(options);\n  });\n\nprogram\n  .command('version')\n  .description('Show version information')\n  .action(() => {\n    console.log('MARIA CODE CLI v1.0.0');\n    console.log('Node.js:', process.version);\n    console.log('Platform:', process.platform);\n  });\n\nprogram.parse(process.argv);\n\n// Natural chat function\nasync function startNaturalChat(options: any) {\n  console.log(chalk.cyan.bold('[AI] MARIA CODE Chat Interface'));\n  console.log(chalk.gray(`Mode: ${options.mode} | Verbose: ${options.verbose}`));\n  console.log(chalk.yellow('Type your request in natural language. Type \"exit\" to quit.\\n'));\n\n\n  // ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ—\n  while (true) {\n    try {\n      const response = await prompts({\n        type: 'text',\n        name: 'message',\n        message: chalk.blue('You:'),\n        validate: (value: string) => value.length > 0 ? true : 'Please enter a message'\n      });\n\n      if (!response.message) {\n        console.log(chalk.yellow('ğŸ‘‹ Chat session ended.'));\n        break;\n      }\n\n      const userMessage = response.message.trim();\n      \n      // çµ‚äº†ã‚³ãƒãƒ³ãƒ‰\n      if (userMessage.toLowerCase() === 'exit' || userMessage.toLowerCase() === 'quit') {\n        console.log(chalk.yellow('ğŸ‘‹ Chat session ended.'));\n        break;\n      }\n\n      // ãƒ˜ãƒ«ãƒ—ã‚³ãƒãƒ³ãƒ‰\n      if (userMessage.toLowerCase() === 'help') {\n        showChatHelp();\n        continue;\n      }\n\n      // ã‚¯ãƒªã‚¢ã‚³ãƒãƒ³ãƒ‰\n      if (userMessage.toLowerCase() === 'clear') {\n        console.clear();\n        console.log(chalk.cyan.bold('[AI] MARIA CODE Chat Interface'));\n        console.log(chalk.gray('Chat history cleared.\\n'));\n        continue;\n      }\n\n      // AIå¿œç­”ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ\n      const aiResponse = await processMessage(userMessage);\n      console.log(chalk.green('[AI] MARIA:'), aiResponse);\n      console.log(''); // ç©ºè¡Œ\n\n    } catch (error) {\n      if (error instanceof Error && error.message.includes('cancelled')) {\n        console.log(chalk.yellow('\\nğŸ‘‹ Chat session cancelled.'));\n        break;\n      }\n      console.error(chalk.red('Error:'), error);\n    }\n  }\n}\n\nasync function processMessage(message: string): Promise<string> {\n  const spinner = ora('ğŸ¤” MARIA is thinking...').start();\n  \n  try {\n    // ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å¾…æ©Ÿ\n    await new Promise(resolve => setTimeout(resolve, 800 + Math.random() * 1200));\n    spinner.stop();\n\n    const lowerMessage = message.toLowerCase();\n    \n    // ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã«ã‚ˆã‚‹å¿œç­”ç”Ÿæˆ\n    if (lowerMessage.includes('create') || lowerMessage.includes('ä½œæˆ') || lowerMessage.includes('ä½œã£ã¦')) {\n      if (lowerMessage.includes('file') || lowerMessage.includes('ãƒ•ã‚¡ã‚¤ãƒ«')) {\n        return `ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆã®ã”ä¾é ¼ã§ã™ã­ã€‚ä»¥ä¸‹ã®æ‰‹é †ã§é€²ã‚ã¾ã™ï¼š\\n\\n1. ãƒ•ã‚¡ã‚¤ãƒ«åã¨å½¢å¼ã‚’ç¢ºèª\\n2. å¿…è¦ãªå†…å®¹ã‚’æ•´ç†\\n3. ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆã¨ä¿å­˜\\n\\nå…·ä½“çš„ãªãƒ•ã‚¡ã‚¤ãƒ«åã¨å†…å®¹ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚`;\n      }\n      if (lowerMessage.includes('function') || lowerMessage.includes('é–¢æ•°')) {\n        return `é–¢æ•°ä½œæˆã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æ‰¿ã‚Šã¾ã—ãŸã€‚\\n\\nå¿…è¦ãªæƒ…å ±ï¼š\\nâ€¢ é–¢æ•°å\\nâ€¢ å¼•æ•°ã®å‹ã¨åå‰\\nâ€¢ æˆ»ã‚Šå€¤ã®å‹\\nâ€¢ å‡¦ç†å†…å®¹\\n\\nã“ã‚Œã‚‰ã®è©³ç´°ã‚’æ•™ãˆã¦ãã ã•ã„ã€‚TypeScript/JavaScriptã§å®Ÿè£…ã—ã¾ã™ã€‚`;\n      }\n    }\n\n    if (lowerMessage.includes('fix') || lowerMessage.includes('ä¿®æ­£') || lowerMessage.includes('ç›´ã—ã¦')) {\n      return `å•é¡Œã®ä¿®æ­£ã‚’ãŠæ‰‹ä¼ã„ã—ã¾ã™ã€‚\\n\\nè©³ç´°æƒ…å ±ã‚’ãŠèã‹ã›ãã ã•ã„ï¼š\\nâ€¢ ã©ã®ã‚ˆã†ãªå•é¡ŒãŒç™ºç”Ÿã—ã¦ã„ã¾ã™ã‹ï¼Ÿ\\nâ€¢ ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ\\nâ€¢ å•é¡ŒãŒèµ·ãã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ã‚³ãƒ¼ãƒ‰ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ\\n\\næƒ…å ±ã‚’ã„ãŸã ã‘ã‚Œã°ã€é©åˆ‡ãªè§£æ±ºç­–ã‚’ææ¡ˆã—ã¾ã™ã€‚`;\n    }\n\n    if (lowerMessage.includes('explain') || lowerMessage.includes('èª¬æ˜') || lowerMessage.includes('æ•™ãˆã¦')) {\n      return `èª¬æ˜ã®ã”ä¾é ¼ã§ã™ã­ã€‚ä»¥ä¸‹ã®ã‚ˆã†ãªå†…å®¹ã«ã¤ã„ã¦è©³ã—ãèª¬æ˜ã§ãã¾ã™ï¼š\\n\\nâ€¢ ã‚³ãƒ¼ãƒ‰ã®å‹•ä½œåŸç†\\nâ€¢ ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ä½¿ã„æ–¹\\nâ€¢ ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹\\nâ€¢ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®è¨­è¨ˆ\\n\\nå…·ä½“çš„ã«ä½•ã«ã¤ã„ã¦çŸ¥ã‚ŠãŸã„ã‹æ•™ãˆã¦ãã ã•ã„ã€‚`;\n    }\n\n    // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–¢é€£\n    if (lowerMessage.includes('project') || lowerMessage.includes('ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ')) {\n      return `ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é–¢ã™ã‚‹ã”è³ªå•ã§ã™ã­ã€‚\\n\\nMARIA PLATFORMã®ä¸»è¦æ©Ÿèƒ½ï¼š\\nâ€¢ Paper Editor - LaTeXè«–æ–‡ç·¨é›†\\nâ€¢ Slides Editor - ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ\\nâ€¢ AI Chat - å¯¾è©±å‹é–‹ç™ºæ”¯æ´\\nâ€¢ Graph RAG - Knowledge Graph (optional)\\n\\nä½•ã‹ç‰¹å®šã®æ©Ÿèƒ½ã«ã¤ã„ã¦è©³ã—ãçŸ¥ã‚ŠãŸã„ã“ã¨ã¯ã‚ã‚Šã¾ã™ã‹ï¼Ÿ`;\n    }\n\n    // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå¿œç­”\n    const responses = [\n      `ãªã‚‹ã»ã©ã€ã€Œ${message}ã€ã«ã¤ã„ã¦ã§ã™ã­ã€‚ã‚‚ã†å°‘ã—è©³ç´°ã‚’æ•™ãˆã¦ã„ãŸã ã‘ã¾ã™ã‹ï¼Ÿ`,\n      `ã”ä¾é ¼ã®å†…å®¹ã‚’ç†è§£ã—ã¾ã—ãŸã€‚å…·ä½“çš„ã«ã©ã®ã‚ˆã†ãªä½œæ¥­ã‚’ãŠæ‰‹ä¼ã„ã§ãã‚‹ã§ã—ã‚‡ã†ã‹ï¼Ÿ`,\n      `ã€Œ${message}ã€ã«é–¢ã—ã¦ã€MARIA CODEã§ã‚µãƒãƒ¼ãƒˆã§ãã‚‹æ–¹æ³•ã‚’è€ƒãˆã¦ã„ã¾ã™ã€‚è¿½åŠ ã®æƒ…å ±ãŒã‚ã‚Œã°æ•™ãˆã¦ãã ã•ã„ã€‚`,\n    ];\n\n    const randomIndex = Math.floor(Math.random() * responses.length);\n    return responses[randomIndex] ?? 'ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ã€‚ç¾åœ¨å‡¦ç†ã§ãã¾ã›ã‚“ã€‚';\n    \n  } catch (error) {\n    spinner.stop();\n    return `ç”³ã—è¨³ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${error instanceof Error ? error.message : 'Unknown error'}`;\n  }\n}\n\nfunction showChatHelp() {\n  console.log(chalk.cyan.bold('\\nğŸ“š Available Commands:'));\n  console.log(chalk.yellow('  help     ') + '- Show this help message');\n  console.log(chalk.yellow('  clear    ') + '- Clear chat history');\n  console.log(chalk.yellow('  exit     ') + '- End chat session');\n  console.log(chalk.gray('\\n[TIP] Tips:'));\n  console.log(chalk.gray('  - Use natural language to describe what you want'));\n  console.log(chalk.gray('  - Be specific about files, functions, or features'));\n  console.log(chalk.gray('  - Ask for explanations, code creation, or fixes'));\n  console.log('');\n}\n\nif (!process.argv.slice(2).length) {\n  program.outputHelp();\n}"],"mappings":"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","names":[]}